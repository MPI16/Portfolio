<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miko's Portfolio - Interactive Solar System</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: #000;
            color: white;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow: hidden;
            height: 100vh;
            cursor: crosshair;
        }

        /* Game Container */
        .game-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: radial-gradient(ellipse at center, #0a0a1a 0%, #000000 100%);
        }

        /* Space Background Layer */
        #space-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
            background: #000;
        }

        /* Solar System Container */
        #solar-system {
            position: absolute;
            width: 3000px;
            height: 3000px;
            z-index: 2;
            transform-origin: center center;
            will-change: transform;
        }

        /* Orbit Rings */
        .orbit-ring {
            position: absolute;
            top: 1500px;
            left: 1500px;
            transform: translate(-50%, -50%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        /* Header */
        .game-header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            padding: 15px 30px;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.9), transparent);
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(45deg, #00ffaa, #00cc88, #00aa66);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            text-shadow: 0 0 20px rgba(0, 255, 170, 0.5);
        }

        .stats {
            display: flex;
            gap: 20px;
            align-items: center;
            background: rgba(20, 20, 40, 0.8);
            padding: 8px 16px;
            border-radius: 12px;
            border: 1px solid #00ffaa;
            backdrop-filter: blur(10px);
        }

        .stat-item {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .stat-label {
            font-size: 0.7rem;
            color: #00ffaa;
            margin-bottom: 3px;
        }

        .stat-value {
            font-size: 1rem;
            font-weight: bold;
            color: white;
            font-family: 'Courier New', monospace;
        }

        /* HYPER-REALISTIC SUN */
        .sun {
            position: absolute;
            top: 1500px;
            left: 1500px;
            transform: translate(-50%, -50%);
            width: 180px;
            height: 180px;
            z-index: 3;
        }

        /* Sun Core - Deep atmospheric layers */
        .sun-core {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            background: 
                radial-gradient(circle at 35% 35%, 
                    rgba(255, 255, 255, 0.95) 0%,
                    rgba(255, 248, 220, 0.9) 5%,
                    rgba(255, 215, 0, 0.85) 15%,
                    rgba(255, 165, 0, 0.8) 25%,
                    rgba(255, 140, 0, 0.75) 35%,
                    rgba(255, 69, 0, 0.7) 45%,
                    rgba(220, 20, 60, 0.6) 55%,
                    rgba(139, 0, 0, 0.4) 70%,
                    transparent 85%
                ),
                radial-gradient(circle at 65% 65%, 
                    rgba(255, 69, 0, 0.5) 0%,
                    rgba(178, 34, 34, 0.3) 40%,
                    transparent 60%
                );
            box-shadow: 
                0 0 60px rgba(255, 215, 0, 0.8),
                0 0 120px rgba(255, 140, 0, 0.6),
                0 0 200px rgba(255, 69, 0, 0.4),
                0 0 300px rgba(220, 20, 60, 0.2),
                inset -10px -10px 40px rgba(0, 0, 0, 0.4);
            animation: sunPulse 3s ease-in-out infinite alternate;
        }

        /* Photosphere - Visible surface texture */
        .sun-photosphere {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 105%;
            height: 105%;
            border-radius: 50%;
            background: 
                repeating-conic-gradient(
                    from 0deg at 50% 50%,
                    transparent 0deg,
                    rgba(255, 140, 0, 0.1) 2deg,
                    transparent 4deg,
                    rgba(255, 69, 0, 0.15) 6deg,
                    transparent 8deg
                );
            animation: rotate 60s linear infinite;
            opacity: 0.6;
        }

        /* Chromosphere - Reddish atmospheric layer */
        .sun-chromosphere {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 140%;
            height: 140%;
            border-radius: 50%;
            background: radial-gradient(circle, 
                rgba(255, 69, 0, 0.4) 0%,
                rgba(220, 20, 60, 0.3) 30%,
                rgba(255, 140, 0, 0.2) 50%,
                transparent 70%
            );
            animation: chromospherePulse 4s ease-in-out infinite alternate;
        }

        /* Corona - Outer atmosphere */
        .sun-corona {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 200%;
            height: 200%;
            border-radius: 50%;
            background: radial-gradient(circle, 
                rgba(255, 255, 255, 0.2) 0%,
                rgba(255, 248, 220, 0.15) 20%,
                rgba(255, 215, 0, 0.1) 40%,
                rgba(255, 140, 0, 0.05) 60%,
                transparent 80%
            );
            animation: coronaPulse 5s ease-in-out infinite alternate;
        }

        /* Solar Flares - Prominences */
        .solar-flare {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 250%;
            height: 250%;
            transform: translate(-50%, -50%);
            animation: flareRotate 25s linear infinite;
        }

        .flare {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 50%;
            height: 12px;
            background: linear-gradient(90deg, 
                transparent 0%,
                rgba(255, 255, 255, 0.9) 10%,
                rgba(255, 215, 0, 0.8) 25%,
                rgba(255, 140, 0, 0.6) 45%,
                rgba(255, 69, 0, 0.4) 65%,
                rgba(220, 20, 60, 0.2) 80%,
                transparent 100%
            );
            transform-origin: left center;
            border-radius: 6px;
            filter: blur(3px);
        }

        .flare:nth-child(1) { transform: rotate(0deg) translateX(55%); animation: flareWave 2.5s infinite 0s; }
        .flare:nth-child(2) { transform: rotate(30deg) translateX(60%); animation: flareWave 3s infinite 0.3s; }
        .flare:nth-child(3) { transform: rotate(60deg) translateX(58%); animation: flareWave 2.8s infinite 0.6s; }
        .flare:nth-child(4) { transform: rotate(90deg) translateX(62%); animation: flareWave 3.2s infinite 0.9s; }
        .flare:nth-child(5) { transform: rotate(120deg) translateX(56%); animation: flareWave 2.6s infinite 1.2s; }
        .flare:nth-child(6) { transform: rotate(150deg) translateX(64%); animation: flareWave 3.1s infinite 1.5s; }
        .flare:nth-child(7) { transform: rotate(180deg) translateX(57%); animation: flareWave 2.9s infinite 1.8s; }
        .flare:nth-child(8) { transform: rotate(210deg) translateX(61%); animation: flareWave 3.3s infinite 2.1s; }
        .flare:nth-child(9) { transform: rotate(240deg) translateX(59%); animation: flareWave 2.7s infinite 2.4s; }
        .flare:nth-child(10) { transform: rotate(270deg) translateX(63%); animation: flareWave 3s infinite 2.7s; }
        .flare:nth-child(11) { transform: rotate(300deg) translateX(55%); animation: flareWave 2.8s infinite 3s; }
        .flare:nth-child(12) { transform: rotate(330deg) translateX(60%); animation: flareWave 3.2s infinite 3.3s; }

        @keyframes sunPulse {
            0% { 
                transform: scale(1); 
                filter: brightness(1);
                box-shadow: 0 0 60px rgba(255, 215, 0, 0.8), 0 0 120px rgba(255, 140, 0, 0.6), 0 0 200px rgba(255, 69, 0, 0.4);
            }
            100% { 
                transform: scale(1.05); 
                filter: brightness(1.1);
                box-shadow: 0 0 80px rgba(255, 215, 0, 0.9), 0 0 160px rgba(255, 140, 0, 0.7), 0 0 280px rgba(255, 69, 0, 0.5);
            }
        }

        @keyframes chromospherePulse {
            0% { transform: translate(-50%, -50%) scale(0.95); opacity: 0.6; }
            100% { transform: translate(-50%, -50%) scale(1.1); opacity: 0.9; }
        }

        @keyframes coronaPulse {
            0% { transform: translate(-50%, -50%) scale(0.9); opacity: 0.4; }
            100% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.7; }
        }

        @keyframes flareRotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        @keyframes flareWave {
            0%, 100% { opacity: 0.2; transform: rotate(var(--rotation)) translateX(55%) scaleX(0.8); }
            50% { opacity: 1; transform: rotate(var(--rotation)) translateX(75%) scaleX(1.3); }
        }

        @keyframes rotate {
            from { transform: translate(-50%, -50%) rotate(0deg); }
            to { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* REALISTIC PLANETS */
        .planet {
            position: absolute;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 4;
            transform-origin: center;
        }

        .planet-body {
            width: 100%;
            height: 100%;
            border-radius: 50%;
            position: relative;
            overflow: hidden;
        }

        /* MERCURY - Grey, cratered, Moon-like */
        .planet-mercury .planet-body {
            background: 
                radial-gradient(circle at 25% 25%, rgba(255,255,255,0.15) 0%, transparent 40%),
                radial-gradient(circle at 75% 75%, rgba(0,0,0,0.4) 0%, transparent 50%),
                radial-gradient(circle at 60% 30%, rgba(105,105,105,0.8) 0%, transparent 25%),
                radial-gradient(circle at 30% 70%, rgba(80,80,80,0.9) 0%, transparent 20%),
                radial-gradient(circle at 80% 60%, rgba(90,90,90,0.7) 0%, transparent 30%),
                linear-gradient(135deg, #8c8c8c 0%, #696969 25%, #505050 50%, #404040 75%, #303030 100%);
            box-shadow: 
                inset -8px -8px 20px rgba(0,0,0,0.9),
                inset 4px 4px 15px rgba(255,255,255,0.1),
                0 0 15px rgba(140,140,140,0.3);
        }

        /* Crater texture overlay */
        .planet-mercury .planet-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 30%, rgba(0,0,0,0.3) 0%, transparent 8%),
                radial-gradient(circle at 60% 20%, rgba(0,0,0,0.25) 0%, transparent 6%),
                radial-gradient(circle at 40% 60%, rgba(0,0,0,0.35) 0%, transparent 10%),
                radial-gradient(circle at 70% 70%, rgba(0,0,0,0.2) 0%, transparent 5%),
                radial-gradient(circle at 25% 75%, rgba(0,0,0,0.28) 0%, transparent 7%);
            border-radius: 50%;
        }

        /* VENUS - Thick yellow-white sulfuric acid clouds */
        .planet-venus .planet-body {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,255,240,0.6) 0%, transparent 35%),
                radial-gradient(circle at 70% 60%, rgba(218,165,32,0.4) 0%, transparent 40%),
                radial-gradient(circle at 40% 80%, rgba(184,134,11,0.5) 0%, transparent 30%),
                linear-gradient(180deg, 
                    #f5f5dc 0%, 
                    #eee8aa 20%, 
                    #f0e68c 40%, 
                    #daa520 60%, 
                    #b8860b 80%, 
                    #8b7355 100%
                );
            box-shadow: 
                inset -6px -6px 18px rgba(0,0,0,0.8),
                inset 3px 3px 12px rgba(255,255,240,0.3),
                0 0 25px rgba(240,230,140,0.4);
        }

        /* Venus cloud bands */
        .planet-venus .planet-body::after {
            content: '';
            position: absolute;
            width: 200%;
            height: 100%;
            left: -50%;
            background: repeating-linear-gradient(
                0deg,
                transparent 0px,
                rgba(255,255,255,0.05) 2px,
                transparent 4px,
                rgba(218,165,32,0.08) 6px,
                transparent 8px
            );
            animation: cloudBands 20s linear infinite;
        }

        @keyframes cloudBands {
            from { transform: translateX(0); }
            to { transform: translateX(50%); }
        }

        /* EARTH - Blue marble with continents and atmosphere */
        .planet-earth .planet-body {
            background: 
                radial-gradient(circle at 25% 25%, rgba(255,255,255,0.4) 0%, transparent 30%),
                radial-gradient(circle at 80% 20%, rgba(34,139,34,0.6) 0%, transparent 25%),
                radial-gradient(circle at 60% 70%, rgba(0,100,0,0.5) 0%, transparent 30%),
                radial-gradient(circle at 30% 60%, rgba(34,139,34,0.4) 0%, transparent 20%),
                radial-gradient(ellipse at 70% 80%, rgba(139,69,19,0.3) 0%, transparent 25%),
                linear-gradient(135deg, #1e90ff 0%, #00bfff 30%, #87ceeb 50%, #4682b4 70%, #191970 100%);
            box-shadow: 
                inset -8px -8px 25px rgba(0,0,0,0.9),
                inset 4px 4px 15px rgba(255,255,255,0.2),
                0 0 30px rgba(30,144,255,0.5);
        }

        /* Earth clouds */
        .planet-earth .planet-body::before {
            content: '';
            position: absolute;
            width: 120%;
            height: 100%;
            left: -10%;
            background: 
                radial-gradient(ellipse at 30% 40%, rgba(255,255,255,0.4) 0%, transparent 15%),
                radial-gradient(ellipse at 70% 30%, rgba(255,255,255,0.3) 0%, transparent 20%),
                radial-gradient(ellipse at 50% 70%, rgba(255,255,255,0.35) 0%, transparent 18%);
            animation: earthRotate 30s linear infinite;
        }

        /* Earth atmosphere glow */
        .planet-earth::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 130%;
            height: 130%;
            background: radial-gradient(circle, 
                rgba(135,206,235,0.3) 0%,
                rgba(30,144,255,0.15) 40%,
                transparent 70%
            );
            border-radius: 50%;
            animation: atmosphereGlow 4s ease-in-out infinite alternate;
            pointer-events: none;
        }

        @keyframes earthRotate {
            from { transform: translateX(0); }
            to { transform: translateX(-20%); }
        }

        /* MARS - Red planet with dust storms and Olympus Mons */
        .planet-mars .planet-body {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,200,180,0.3) 0%, transparent 25%),
                radial-gradient(circle at 70% 40%, rgba(139,69,19,0.5) 0%, transparent 30%),
                radial-gradient(circle at 40% 75%, rgba(160,82,45,0.6) 0%, transparent 25%),
                radial-gradient(circle at 80% 70%, rgba(205,92,92,0.4) 0%, transparent 20%),
                radial-gradient(circle at 20% 60%, rgba(178,34,34,0.5) 0%, transparent 15%),
                linear-gradient(135deg, #cd5c5c 0%, #b22222 25%, #a0522d 50%, #8b4513 75%, #800000 100%);
            box-shadow: 
                inset -8px -8px 25px rgba(0,0,0,0.9),
                inset 4px 4px 15px rgba(255,200,180,0.15),
                0 0 25px rgba(205,92,92,0.5);
        }

        /* Mars surface details */
        .planet-mars .planet-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 25% 35%, rgba(0,0,0,0.2) 0%, transparent 12%),
                radial-gradient(ellipse at 65% 25%, rgba(0,0,0,0.15) 0%, transparent 10%),
                radial-gradient(ellipse at 45% 65%, rgba(139,0,0,0.3) 0%, transparent 15%);
            border-radius: 50%;
        }

        /* Mars dust atmosphere */
        .planet-mars::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 115%;
            height: 115%;
            background: radial-gradient(circle, 
                rgba(205,92,92,0.2) 0%,
                rgba(178,34,34,0.1) 50%,
                transparent 70%
            );
            border-radius: 50%;
            pointer-events: none;
        }

        /* JUPITER - Gas giant with bands and Great Red Spot */
        .planet-jupiter .planet-body {
            background: 
                linear-gradient(180deg, 
                    #d4a574 0%, 
                    #c4915e 8%, 
                    #b07848 15%, 
                    #a06838 22%,
                    #c07840 30%,
                    #d49860 38%,
                    #e8b878 45%,
                    #d49860 52%,
                    #a06030 60%,
                    #804020 68%,
                    #905030 75%,
                    #a06030 82%,
                    #c07840 90%,
                    #d4a574 100%
                );
            box-shadow: 
                inset -10px -10px 30px rgba(0,0,0,0.9),
                inset 5px 5px 20px rgba(255,228,196,0.2),
                0 0 35px rgba(180,120,70,0.5);
        }

        /* Jupiter atmospheric bands detail */
        .planet-jupiter .planet-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                /* Great Red Spot */
                radial-gradient(ellipse at 70% 60%, 
                    rgba(178,34,34,0.8) 0%, 
                    rgba(139,0,0,0.6) 15%, 
                    rgba(205,92,92,0.3) 30%,
                    transparent 45%
                ),
                /* Turbulence bands */
                repeating-linear-gradient(
                    90deg,
                    transparent 0%,
                    rgba(0,0,0,0.1) 5%,
                    transparent 10%,
                    rgba(255,255,255,0.05) 15%,
                    transparent 20%
                );
            border-radius: 50%;
            animation: jupiterStorm 40s linear infinite;
        }

        @keyframes jupiterStorm {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* SATURN - Pale gold with complex ring system */
        .planet-saturn .planet-body {
            background: 
                radial-gradient(circle at 30% 30%, rgba(255,250,205,0.5) 0%, transparent 35%),
                radial-gradient(circle at 70% 70%, rgba(184,134,11,0.3) 0%, transparent 30%),
                linear-gradient(135deg, #f4d03f 0%, #d4ac0d 25%, #c5a028 50%, #b8860b 75%, #9a7b0a 100%);
            box-shadow: 
                inset -8px -8px 25px rgba(0,0,0,0.8),
                inset 4px 4px 15px rgba(255,250,205,0.25),
                0 0 30px rgba(212,172,13,0.4);
        }

        /* Saturn's atmosphere bands */
        .planet-saturn .planet-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                transparent 0px,
                rgba(218,165,32,0.1) 3px,
                transparent 6px,
                rgba(184,134,11,0.15) 9px,
                transparent 12px
            );
            border-radius: 50%;
            opacity: 0.6;
        }

        /* Enhanced Saturn Rings */
        .planet-saturn .rings {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) rotateX(75deg);
            width: 240%;
            height: 240%;
            border-radius: 50%;
            background: 
                radial-gradient(circle, 
                    transparent 30%,
                    rgba(244,208,63,0.1) 32%,
                    rgba(218,165,32,0.4) 35%,
                    rgba(244,208,63,0.6) 38%,
                    rgba(184,134,11,0.5) 42%,
                    rgba(244,208,63,0.4) 45%,
                    rgba(218,165,32,0.3) 48%,
                    rgba(184,134,11,0.5) 52%,
                    rgba(244,208,63,0.3) 55%,
                    rgba(218,165,32,0.2) 58%,
                    transparent 62%
                );
            pointer-events: none;
            box-shadow: 0 0 20px rgba(244,208,63,0.2);
        }

        /* Ring shadow on planet */
        .planet-saturn .rings::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 42%;
            height: 42%;
            background: linear-gradient(90deg, 
                rgba(0,0,0,0.3) 0%,
                transparent 20%,
                transparent 80%,
                rgba(0,0,0,0.3) 100%
            );
            border-radius: 50%;
            pointer-events: none;
        }

        /* URANUS - Cyan ice giant with smooth atmosphere */
        .planet-uranus .planet-body {
            background: 
                radial-gradient(circle at 25% 25%, rgba(224,255,255,0.5) 0%, transparent 30%),
                radial-gradient(circle at 75% 75%, rgba(0,128,128,0.3) 0%, transparent 40%),
                linear-gradient(135deg, #87ceeb 0%, #5f9ea0 30%, #4682b4 60%, #2f4f4f 100%);
            box-shadow: 
                inset -6px -6px 20px rgba(0,0,0,0.8),
                inset 3px 3px 12px rgba(224,255,255,0.2),
                0 0 25px rgba(135,206,235,0.4);
        }

        /* Uranus smooth haze */
        .planet-uranus .planet-body::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 120%;
            height: 120%;
            background: radial-gradient(circle, 
                rgba(173,216,230,0.2) 0%,
                rgba(135,206,235,0.1) 50%,
                transparent 70%
            );
            border-radius: 50%;
            pointer-events: none;
        }

        /* NEPTUNE - Deep blue with storm features */
        .planet-neptune .planet-body {
            background: 
                radial-gradient(circle at 30% 30%, rgba(100,149,237,0.4) 0%, transparent 25%),
                radial-gradient(circle at 70% 40%, rgba(0,0,139,0.5) 0%, transparent 30%),
                radial-gradient(circle at 40% 80%, rgba(65,105,225,0.6) 0%, transparent 35%),
                linear-gradient(135deg, #4169e1 0%, #0000cd 25%, #00008b 50%, #191970 75%, #000033 100%);
            box-shadow: 
                inset -8px -8px 25px rgba(0,0,0,0.9),
                inset 4px 4px 15px rgba(100,149,237,0.2),
                0 0 30px rgba(65,105,225,0.5);
        }

        /* Neptune's Great Dark Spot and storms */
        .planet-neptune .planet-body::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(ellipse at 60% 45%, 
                    rgba(0,0,50,0.6) 0%, 
                    rgba(0,0,100,0.3) 20%,
                    transparent 35%
                ),
                radial-gradient(ellipse at 25% 70%, 
                    rgba(100,149,237,0.3) 0%, 
                    transparent 15%
                );
            border-radius: 50%;
            animation: neptuneStorm 35s linear infinite;
        }

        @keyframes neptuneStorm {
            from { transform: rotate(0deg); }
            to { transform: rotate(-360deg); }
        }

        /* Neptune high altitude clouds */
        .planet-neptune::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 110%;
            height: 110%;
            background: radial-gradient(circle, 
                rgba(135,206,250,0.15) 0%,
                transparent 60%
            );
            border-radius: 50%;
            pointer-events: none;
        }

        .planet:hover {
            transform: scale(1.3);
            z-index: 100;
        }

        @keyframes atmosphereGlow {
            0% { opacity: 0.4; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.1); }
        }

        /* Planet Header */
        .planet-header {
            position: absolute;
            top: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(20, 20, 40, 0.95);
            padding: 8px 16px;
            border-radius: 8px;
            border: 1px solid #00ffaa;
            min-width: 150px;
            text-align: center;
            opacity: 0;
            transition: all 0.3s ease;
            pointer-events: none;
            z-index: 10;
        }

        .planet-header.show {
            opacity: 1;
            top: -65px;
        }

        .planet-name {
            font-size: 1rem;
            font-weight: bold;
            color: white;
        }

        .planet-subtitle {
            display: block;
            font-size: 0.75rem;
            color: #00ffaa;
            margin-top: 2px;
        }

        .enter-prompt {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(45deg, #00ffaa, #00cc88);
            color: #001a14;
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
            font-size: 0.85rem;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            z-index: 11;
            white-space: nowrap;
        }

        .enter-prompt.show {
            opacity: 1;
        }

        /* Rocket Ship */
        .spaceship {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 40px;
            height: 60px;
            transform: translate(-50%, -50%);
            pointer-events: none;
            z-index: 2000;
        }

        .rocket-body {
            position: absolute;
            width: 100%;
            height: 100%;
        }

        /* Rocket nose cone */
        .rocket-nose {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 12px solid transparent;
            border-right: 12px solid transparent;
            border-bottom: 20px solid #e74c3c;
            filter: drop-shadow(0 0 5px rgba(231, 76, 60, 0.5));
        }

        /* Rocket main body */
        .rocket-fuselage {
            position: absolute;
            top: 18px;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 30px;
            background: linear-gradient(90deg, #ecf0f1 0%, #bdc3c7 30%, #ecf0f1 50%, #95a5a6 80%, #ecf0f1 100%);
            border-radius: 2px;
            box-shadow: inset -3px 0 5px rgba(0,0,0,0.2);
        }

        /* Rocket window */
        .rocket-window {
            position: absolute;
            top: 22px;
            left: 50%;
            transform: translateX(-50%);
            width: 10px;
            height: 10px;
            background: radial-gradient(circle at 30% 30%, #3498db, #2980b9);
            border-radius: 50%;
            border: 2px solid #34495e;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.6);
        }

        /* Rocket fins */
        .rocket-fin {
            position: absolute;
            bottom: 8px;
            width: 0;
            height: 0;
            border-top: 15px solid #c0392b;
            filter: drop-shadow(0 0 3px rgba(192, 57, 43, 0.5));
        }

        .rocket-fin.left {
            left: -8px;
            border-right: 12px solid transparent;
        }

        .rocket-fin.right {
            right: -8px;
            border-left: 12px solid transparent;
        }

        /* Rocket engine nozzle */
        .rocket-engine {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 10px;
            background: linear-gradient(180deg, #7f8c8d 0%, #2c3e50 100%);
            border-radius: 0 0 4px 4px;
        }

        /* Rocket flame */
        .rocket-flame {
            position: absolute;
            bottom: -25px;
            left: 50%;
            transform: translateX(-50%);
            width: 16px;
            height: 30px;
            background: linear-gradient(180deg, 
                rgba(255, 255, 0, 0.9) 0%,
                rgba(255, 165, 0, 0.8) 30%,
                rgba(255, 69, 0, 0.6) 60%,
                rgba(255, 0, 0, 0.3) 80%,
                transparent 100%
            );
            border-radius: 50% 50% 50% 50% / 20% 20% 80% 80%;
            animation: flameFlicker 0.1s infinite alternate;
            filter: blur(2px);
        }

        .rocket-flame::before {
            content: '';
            position: absolute;
            top: 5px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 20px;
            background: linear-gradient(180deg, 
                rgba(255, 255, 200, 1) 0%,
                rgba(255, 255, 0, 0.8) 50%,
                transparent 100%
            );
            border-radius: 50%;
            filter: blur(1px);
        }

        @keyframes flameFlicker {
            0% { transform: translateX(-50%) scaleY(0.9) scaleX(0.95); opacity: 0.9; }
            100% { transform: translateX(-50%) scaleY(1.1) scaleX(1.05); opacity: 1; }
        }

        /* Boost flame - bigger when boosting */
        .spaceship.boosting .rocket-flame {
            height: 50px;
            bottom: -40px;
            width: 20px;
            animation: flameBoost 0.05s infinite alternate;
        }

        @keyframes flameBoost {
            0% { transform: translateX(-50%) scaleY(1) scaleX(0.9); }
            100% { transform: translateX(-50%) scaleY(1.3) scaleX(1.1); }
        }

        /* Stars */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            z-index: 1;
        }

        /* Asteroids */
        .asteroid {
            position: absolute;
            background: radial-gradient(circle at 30% 30%, #6a5a52, #3a2a22);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1;
        }

        /* Trail */
        .ship-trail {
            position: absolute;
            width: 6px;
            height: 6px;
            background: rgba(0, 255, 170, 0.6);
            border-radius: 50%;
            pointer-events: none;
            z-index: 1999;
            animation: fadeTrail 1s forwards;
        }

        @keyframes fadeTrail {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(0); }
        }

        /* Portal Overlay */
        .portal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            z-index: 3000;
            display: none;
            justify-content: center;
            align-items: center;
            backdrop-filter: blur(10px);
        }

        .portal-content {
            background: linear-gradient(135deg, rgba(30, 30, 60, 0.95), rgba(20, 20, 40, 0.95));
            padding: 40px;
            border-radius: 20px;
            border: 2px solid #00ffaa;
            max-width: 400px;
            text-align: center;
            box-shadow: 0 0 60px rgba(0, 255, 170, 0.5);
        }

        .portal-title {
            font-size: 2rem;
            margin-bottom: 15px;
            color: #00ffaa;
        }

        .portal-desc {
            color: #ccc;
            margin-bottom: 25px;
            line-height: 1.5;
        }

        .portal-btn {
            padding: 12px 30px;
            border: none;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 0 10px;
            transition: all 0.3s ease;
        }

        .portal-btn.explore {
            background: linear-gradient(45deg, #00ffaa, #00cc88);
            color: #000;
        }

        .portal-btn.return {
            background: rgba(255, 255, 255, 0.2);
            color: white;
        }

        .portal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 255, 170, 0.4);
        }

        /* Controls */
        .controls-guide {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #00ffaa;
            z-index: 1000;
            font-size: 0.8rem;
        }

        .controls-guide h3 {
            color: #00ffaa;
            margin-bottom: 10px;
        }

        .control-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 5px;
        }

        .key {
            background: rgba(0, 255, 170, 0.2);
            border: 1px solid #00ffaa;
            padding: 2px 8px;
            border-radius: 4px;
            font-family: monospace;
            color: #00ffaa;
        }

        /* Minimap */
        .minimap {
            position: fixed;
            bottom: 20px;
            right: 20px;
            width: 180px;
            height: 180px;
            background: rgba(0, 0, 0, 0.8);
            border-radius: 10px;
            border: 1px solid #00ffaa;
            overflow: hidden;
            z-index: 1000;
        }

        .minimap-viewport {
            position: absolute;
            border: 2px solid #00ffaa;
            background: rgba(0, 255, 170, 0.1);
            pointer-events: none;
        }

        .minimap-sun {
            position: absolute;
            width: 8px;
            height: 8px;
            background: #ffaa00;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 10px #ffaa00;
        }

        .minimap-planet {
            position: absolute;
            border-radius: 50%;
            transform: translate(-50%, -50%);
        }

        .minimap-ship {
            position: absolute;
            width: 4px;
            height: 4px;
            background: #00ffaa;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            box-shadow: 0 0 6px #00ffaa;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Solar System -->
        <div id="solar-system">
            <!-- Stars will be generated here -->
            <!-- Asteroids will be generated here -->
            
            <!-- HYPER-REALISTIC SUN -->
            <div class="sun">
                <div class="sun-corona"></div>
                <div class="sun-chromosphere"></div>
                <div class="solar-flare">
                    <div class="flare" style="--rotation: 0deg"></div>
                    <div class="flare" style="--rotation: 30deg"></div>
                    <div class="flare" style="--rotation: 60deg"></div>
                    <div class="flare" style="--rotation: 90deg"></div>
                    <div class="flare" style="--rotation: 120deg"></div>
                    <div class="flare" style="--rotation: 150deg"></div>
                    <div class="flare" style="--rotation: 180deg"></div>
                    <div class="flare" style="--rotation: 210deg"></div>
                    <div class="flare" style="--rotation: 240deg"></div>
                    <div class="flare" style="--rotation: 270deg"></div>
                    <div class="flare" style="--rotation: 300deg"></div>
                    <div class="flare" style="--rotation: 330deg"></div>
                </div>
                <div class="sun-photosphere"></div>
                <div class="sun-core"></div>
            </div>
            
            <!-- Planets will be generated here -->
        </div>
        
        <!-- Rocket Ship (Fixed in viewport center) -->
        <div class="spaceship" id="spaceship">
            <div class="rocket-body">
                <div class="rocket-nose"></div>
                <div class="rocket-fuselage"></div>
                <div class="rocket-window"></div>
                <div class="rocket-fin left"></div>
                <div class="rocket-fin right"></div>
                <div class="rocket-engine"></div>
                <div class="rocket-flame"></div>
            </div>
        </div>
    </div>

    <!-- UI Overlay -->
    <div class="game-header">
        <div class="logo">ðŸš€ MIKO'S UNIVERSE</div>
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">COORDINATES</div>
                <div class="stat-value" id="coordinates">X: 1500 Y: 1500</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">SPEED</div>
                <div class="stat-value" id="speed">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">ENERGY</div>
                <div class="stat-value" id="energy">100%</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">PLANETS</div>
                <div class="stat-value" id="visited">0/8</div>
            </div>
        </div>
    </div>

    <div class="controls-guide">
        <h3>ðŸš€ CONTROLS</h3>
        <div class="control-item"><span class="key">W</span><span>Up</span></div>
        <div class="control-item"><span class="key">S</span><span>Down</span></div>
        <div class="control-item"><span class="key">A</span><span>Left</span></div>
        <div class="control-item"><span class="key">D</span><span>Right</span></div>
        <div class="control-item"><span class="key">SPACE</span><span>Boost</span></div>
        <div class="control-item"><span class="key">ENTER</span><span>Visit</span></div>
        <div class="control-item"><span class="key">+/-</span><span>Zoom</span></div>
    </div>

    <div class="minimap" id="minimap">
        <div class="minimap-viewport" id="minimap-viewport"></div>
    </div>

    <div class="portal-overlay" id="portal-overlay">
        <div class="portal-content">
            <h2 class="portal-title" id="portal-title">PLANET</h2>
            <div class="portal-desc" id="portal-desc">Description</div>
            <div>
                <button class="portal-btn explore" onclick="enterPlanet()">VISIT</button>
                <button class="portal-btn return" onclick="closePortal()">CLOSE</button>
            </div>
        </div>
    </div>

    <div style="display: none;">
        <a id="planet-link" href="#" target="_blank"></a>
    </div>

    <script>
        // Config
        const config = {
            shipSpeed: 8,
            boostSpeed: 16,
            maxEnergy: 100,
            energyConsumption: 0.05,
            planetActivationDistance: 100,
            starCount: 1000,
            asteroidCount: 30,
            zoomLevel: 1,
            minZoom: 0.5,
            maxZoom: 2
        };

        // Planets - UPDATED CONNECTIONS
        const planets = [
            { name: "Mercury", subtitle: "Instagram", class: "planet-mercury", color: "#8a8a8a", orbitRadius: 200, size: 20, speed: 0.02, angle: 0, url: "https://instagram.com/miko.palacio/ ", type: "external" },
            { name: "Venus", subtitle: "Facebook", class: "planet-venus", color: "#e6c200", orbitRadius: 300, size: 28, speed: 0.015, angle: 45, url: "https://facebook.com/Miko.palacioFb/ ", type: "external" },
            // EARTH - RESUME - Connected to Google Drive
            { name: "Earth", subtitle: "Resume", class: "planet-earth", color: "#1e90ff", orbitRadius: 420, size: 30, speed: 0.012, angle: 90, url: "https://drive.google.com/drive/u/1/folders/14WhC0gYhIHjxjxxuGsIoQB_IYePSgQ0J ", type: "external" },
            // MARS - PORTFOLIO - Connected to local Portfolio.html
            { name: "Mars", subtitle: "Portfolio", class: "planet-mars", color: "#cd5c5c", orbitRadius: 550, size: 24, speed: 0.01, angle: 135, url: "./Portfolio.html", type: "local" },
            { name: "Jupiter", subtitle: "GitHub", class: "planet-jupiter", color: "#d4a574", orbitRadius: 750, size: 50, speed: 0.006, angle: 180, url: "https://github.com ", type: "external" },
            { name: "Saturn", subtitle: "LinkedIn", class: "planet-saturn", color: "#f4d03f", orbitRadius: 950, size: 45, speed: 0.004, angle: 225, hasRings: true, url: "https://linkedin.com ", type: "external" },
            { name: "Uranus", subtitle: "YouTube", class: "planet-uranus", color: "#87ceeb", orbitRadius: 1150, size: 35, speed: 0.003, angle: 270, url: "https://youtube.com ", type: "external" },
            { name: "Neptune", subtitle: "Contact", class: "planet-neptune", color: "#4169e1", orbitRadius: 1350, size: 34, speed: 0.002, angle: 315, url: "mailto:test@test.com", type: "email" }
        ];

        // State
        const state = {
            ship: { x: 1500, y: 1500, vx: 0, vy: 0, speed: 0, energy: 100, boosting: false, moving: true },
            keys: {},
            camera: { x: 1500, y: 1500 },
            visited: new Set(),
            currentPlanet: null,
            nearest: null
        };

        const system = document.getElementById('solar-system');
        const shipEl = document.getElementById('spaceship');

        // Initialize
        function init() {
            createStars();
            createAsteroids();
            createOrbits();
            createPlanets();
            createMinimap();
            setupEvents();
            requestAnimationFrame(loop);
        }

        function createStars() {
            for (let i = 0; i < config.starCount; i++) {
                const star = document.createElement('div');
                star.className = 'star';
                const size = Math.random() * 2 + 1;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 3000 + 'px';
                star.style.top = Math.random() * 3000 + 'px';
                star.style.opacity = Math.random() * 0.8 + 0.2;
                system.appendChild(star);
            }
        }

        function createAsteroids() {
            for (let i = 0; i < config.asteroidCount; i++) {
                const asteroid = document.createElement('div');
                asteroid.className = 'asteroid';
                const size = Math.random() * 20 + 10;
                asteroid.style.width = size + 'px';
                asteroid.style.height = size + 'px';
                asteroid.style.left = Math.random() * 3000 + 'px';
                asteroid.style.top = Math.random() * 3000 + 'px';
                asteroid.style.borderRadius = Math.random() * 50 + 30 + '%';
                system.appendChild(asteroid);
            }
        }

        function createOrbits() {
            planets.forEach(p => {
                const ring = document.createElement('div');
                ring.className = 'orbit-ring';
                ring.style.width = (p.orbitRadius * 2) + 'px';
                ring.style.height = (p.orbitRadius * 2) + 'px';
                system.appendChild(ring);
            });
        }

        function createPlanets() {
            planets.forEach((p, i) => {
                const el = document.createElement('div');
                el.className = `planet ${p.class}`;
                el.style.width = p.size + 'px';
                el.style.height = p.size + 'px';
                el.dataset.index = i;
                
                const body = document.createElement('div');
                body.className = 'planet-body';
                el.appendChild(body);
                
                if (p.hasRings) {
                    const rings = document.createElement('div');
                    rings.className = 'rings';
                    el.appendChild(rings);
                }
                
                const header = document.createElement('div');
                header.className = 'planet-header';
                header.innerHTML = `<div class="planet-name">${p.name}</div><span class="planet-subtitle">${p.subtitle}</span>`;
                el.appendChild(header);
                
                const prompt = document.createElement('div');
                prompt.className = 'enter-prompt';
                prompt.textContent = 'PRESS ENTER';
                el.appendChild(prompt);
                
                el.addEventListener('click', () => explorePlanet(p));
                system.appendChild(el);
                p.element = el;
                p.header = header;
                p.prompt = prompt;
            });
        }

        function createMinimap() {
            const minimap = document.getElementById('minimap');
            
            const sun = document.createElement('div');
            sun.className = 'minimap-sun';
            sun.style.left = '50%';
            sun.style.top = '50%';
            minimap.appendChild(sun);
            
            planets.forEach(p => {
                const dot = document.createElement('div');
                dot.className = 'minimap-planet';
                dot.style.width = Math.max(4, p.size / 10) + 'px';
                dot.style.height = Math.max(4, p.size / 10) + 'px';
                dot.style.background = p.color;
                p.minimapDot = dot;
                minimap.appendChild(dot);
            });
            
            const ship = document.createElement('div');
            ship.className = 'minimap-ship';
            ship.id = 'minimap-ship';
            minimap.appendChild(ship);
        }

        function setupEvents() {
            window.addEventListener('keydown', e => {
                state.keys[e.key.toLowerCase()] = true;
                
                if (e.key === 'Enter' && state.nearest) {
                    explorePlanet(state.nearest);
                }
                if (e.key === '+' || e.key === '=') {
                    config.zoomLevel = Math.min(config.maxZoom, config.zoomLevel + 0.1);
                }
                if (e.key === '-' || e.key === '_') {
                    config.zoomLevel = Math.max(config.minZoom, config.zoomLevel - 0.1);
                }
                
                if (['w','a','s','d',' '].includes(e.key.toLowerCase())) {
                    e.preventDefault();
                }
            });
            
            window.addEventListener('keyup', e => {
                state.keys[e.key.toLowerCase()] = false;
            });
        }

        function update() {
            if (!state.ship.moving) return;
            
            // Movement
            const speed = state.keys[' '] ? config.boostSpeed : config.shipSpeed;
            state.ship.vx = 0;
            state.ship.vy = 0;
            
            if (state.keys['w']) state.ship.vy = -speed;
            if (state.keys['s']) state.ship.vy = speed;
            if (state.keys['a']) state.ship.vx = -speed;
            if (state.keys['d']) state.ship.vx = speed;
            
            state.ship.x += state.ship.vx;
            state.ship.y += state.ship.vy;
            
            // Boundaries
            state.ship.x = Math.max(50, Math.min(2950, state.ship.x));
            state.ship.y = Math.max(50, Math.min(2950, state.ship.y));
            
            state.ship.speed = Math.sqrt(state.ship.vx**2 + state.ship.vy**2);
            state.ship.boosting = state.keys[' '];
            
            // Energy
            if (state.ship.speed > 0) {
                state.ship.energy = Math.max(0, state.ship.energy - (state.ship.boosting ? 0.1 : 0.05));
            } else {
                state.ship.energy = Math.min(100, state.ship.energy + 0.2);
            }
            
            // Update planets
            const time = Date.now() / 1000;
            planets.forEach(p => {
                const angle = (p.angle * Math.PI / 180) + (time * p.speed);
                p.x = 1500 + Math.cos(angle) * p.orbitRadius;
                p.y = 1500 + Math.sin(angle) * p.orbitRadius;
                
                p.element.style.left = p.x + 'px';
                p.element.style.top = p.y + 'px';
                p.element.style.transform = 'translate(-50%, -50%)';
                
                // Distance check
                const dx = state.ship.x - p.x;
                const dy = state.ship.y - p.y;
                const dist = Math.sqrt(dx*dx + dy*dy);
                
                if (dist < p.size/2 + config.planetActivationDistance) {
                    p.header.classList.add('show');
                    p.prompt.classList.add('show');
                    state.nearest = p;
                } else {
                    p.header.classList.remove('show');
                    p.prompt.classList.remove('show');
                    if (state.nearest === p) state.nearest = null;
                }
            });
            
            // Camera follows ship
            state.camera.x = state.ship.x;
            state.camera.y = state.ship.y;
            const offsetX = -state.camera.x + window.innerWidth / 2;
            const offsetY = -state.camera.y + window.innerHeight / 2;
            system.style.transform = `translate(${offsetX}px, ${offsetY}px) scale(${config.zoomLevel})`;
            
            // Rotate rocket based on movement direction
            let rot = 0;
            if (state.keys['w'] && !state.keys['a'] && !state.keys['d']) rot = 0;
            else if (state.keys['s'] && !state.keys['a'] && !state.keys['d']) rot = 180;
            else if (state.keys['a'] && !state.keys['w'] && !state.keys['s']) rot = 270;
            else if (state.keys['d'] && !state.keys['w'] && !state.keys['s']) rot = 90;
            else if (state.keys['w'] && state.keys['a']) rot = 315;
            else if (state.keys['w'] && state.keys['d']) rot = 45;
            else if (state.keys['s'] && state.keys['a']) rot = 225;
            else if (state.keys['s'] && state.keys['d']) rot = 135;
            
            // Apply rotation to rocket (rocket points up by default, so we rotate accordingly)
            shipEl.style.transform = `translate(-50%, -50%) rotate(${rot}deg)`;
            
            // Boost effect
            if (state.ship.boosting) {
                shipEl.classList.add('boosting');
            } else {
                shipEl.classList.remove('boosting');
            }
            
            // Update minimap
            const minimapScale = 180 / 3000;
            document.getElementById('minimap-ship').style.left = (state.ship.x * minimapScale) + 'px';
            document.getElementById('minimap-ship').style.top = (state.ship.y * minimapScale) + 'px';
            
            planets.forEach(p => {
                p.minimapDot.style.left = (p.x * minimapScale) + 'px';
                p.minimapDot.style.top = (p.y * minimapScale) + 'px';
            });
            
            const vp = document.getElementById('minimap-viewport');
            vp.style.width = (window.innerWidth * minimapScale / config.zoomLevel) + 'px';
            vp.style.height = (window.innerHeight * minimapScale / config.zoomLevel) + 'px';
            vp.style.left = ((state.ship.x - window.innerWidth/2/config.zoomLevel) * minimapScale) + 'px';
            vp.style.top = ((state.ship.y - window.innerHeight/2/config.zoomLevel) * minimapScale) + 'px';
            
            // Stats
            document.getElementById('coordinates').textContent = `X: ${Math.round(state.ship.x)} Y: ${Math.round(state.ship.y)}`;
            document.getElementById('speed').textContent = Math.round(state.ship.speed);
            document.getElementById('energy').textContent = Math.round(state.ship.energy) + '%';
            document.getElementById('visited').textContent = `${state.visited.size}/${planets.length}`;
        }

        function explorePlanet(p) {
            state.currentPlanet = p;
            state.visited.add(p.name);
            state.ship.moving = false;
            
            document.getElementById('portal-title').textContent = p.name;
            document.getElementById('portal-desc').textContent = `${p.subtitle} - Click VISIT to open`;
            document.getElementById('planet-link').href = p.url;
            document.getElementById('portal-overlay').style.display = 'flex';
        }

        function enterPlanet() {
            if (!state.currentPlanet) return;
            
            const p = state.currentPlanet;
            const url = p.url;
            
            if (p.type === 'local') {
                // Open local Portfolio.html in same window
                window.location.href = url;
            } else if (p.type === 'email') {
                // Open email client
                window.location.href = url;
            } else if (p.type === 'external') {
                // Open external links in new tab
                if (url !== '#') {
                    window.open(url, '_blank', 'noopener,noreferrer');
                }
            }
            
            closePortal();
        }

        function closePortal() {
            document.getElementById('portal-overlay').style.display = 'none';
            state.ship.moving = true;
        }

        function loop() {
            update();
            requestAnimationFrame(loop);
        }

        // Start
        init();
    </script>
</body>
</html>
